# Scaffold experiment: RoPE -> NoPE (switch at 15k)
# Load RoPE checkpoint at step 15k, convert to NoPE, train 1k more steps
# Total effective training: 16k steps (15k with RoPE + 1k with NoPE)

defaults:
  - scaffold_base

# Scaffold configuration
scaffold:
  enabled: true
  checkpoint_path: "../initial-run-outputs/outputs/run1_rope/checkpoint-15000"
  source_pe: "rope"
  switch_step: 15000

# Training settings for remaining 1k steps
training:
  output_dir: "./outputs/scaffold_rope_15k"
  max_steps: 1000  # Remaining steps to reach 16k total

  # LR scaled for short continued training
  learning_rate: 5.0e-5
  min_learning_rate: 5.0e-6
  warmup_steps: 30  # 3% of 1k

  # Save checkpoints
  save_steps: 500

# Experiment naming
wandb:
  tags: ["scaffold", "rope-to-nope", "switch-15k"]
  name: "scaffold-rope-15k"
