# Scaffold experiment: YaRN -> NoPE (switch at 10k)
# Load YaRN checkpoint at step 10k, convert to NoPE, train 6k more steps
# Total effective training: 16k steps (10k with YaRN + 6k with NoPE)

defaults:
  - scaffold_base

# Scaffold configuration
scaffold:
  enabled: true
  checkpoint_path: "../initial-run-outputs/outputs/run2_yarn/checkpoint-10000"
  source_pe: "yarn"
  switch_step: 10000

# Training settings for remaining 6k steps
training:
  output_dir: "./outputs/scaffold_yarn_10k"
  max_steps: 6000

  # LR scaled for continued training
  learning_rate: 1.0e-4
  min_learning_rate: 1.0e-5
  warmup_steps: 180

  # Save checkpoints
  save_steps: 2000

# Experiment naming
wandb:
  tags: ["scaffold", "yarn-to-nope", "switch-10k"]
  name: "scaffold-yarn-10k"
